<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>医療用語タイピング練習</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">🏥 医療用語タイピング</h1>
            <p class="subtitle">医療用語を正確にタイピングして練習しましょう</p>
        </div>

        <!-- ローディングエリア -->
        <div class="loading" id="loadingArea" style="display: none;">
            <div class="loading-spinner"></div>
            <p>データを読み込み中...</p>
        </div>

        <!-- エラーエリア -->
        <div class="error" id="errorArea" style="display: none;">
            エラーが発生しました。
        </div>

        <!-- ファイル管理エリア -->
        <div class="file-management">
            <div class="file-input">
                <label for="csvFileInput">📁 カスタムCSVファイルを読み込む：</label>
                <input type="file" id="csvFileInput" accept=".csv" />
            </div>
            <div class="csv-info">
                <strong>📝 CSVファイル形式:</strong> japanese,reading,romaji,meaning<br>
                例: 心電図,しんでんず,shindenzu,心臓の電気的活動を記録する検査
            </div>
        </div>

        <!-- 難易度設定エリア -->
        <div class="difficulty-settings">
            <h3>⚙️ 難易度設定</h3>
            <div class="settings-grid">
                <div class="setting-item">
                    <label for="difficultyLevel">難易度レベル：</label>
                    <select id="difficultyLevel">
                        <option value="easy">初級 (2分、簡単な用語)</option>
                        <option value="normal" selected>中級 (1分、標準用語)</option>
                        <option value="hard">上級 (45秒、難しい用語)</option>
                        <option value="expert">エキスパート (30秒、全用語)</option>
                        <option value="custom">カスタム</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="timeLimit">制限時間（秒）：</label>
                    <input type="number" id="timeLimit" min="15" max="600" value="60" step="15">
                </div>
                <div class="setting-item">
                    <label for="termCount">問題数：</label>
                    <input type="number" id="termCount" min="5" max="50" value="10" step="1">
                </div>
                <div class="setting-item">
                    <label for="showHints">ヒント表示：</label>
                    <input type="checkbox" id="showHints" checked>
                    <span class="checkbox-label">読みと意味を表示</span>
                </div>
            </div>
        </div>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="score">0</div>
                <div class="stat-label">スコア</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="wpm">0</div>
                <div class="stat-label">WPM</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="accuracy">100</div>
                <div class="stat-label">正確率(%)</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="timer">60</div>
                <div class="stat-label">残り時間(秒)</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="question-area" id="questionArea">
            <div class="question-term">
                <div class="term-japanese" id="termJapanese">データを読み込み中...</div>
                <div class="term-reading" id="termReading"></div>
                <div class="term-meaning" id="termMeaning"></div>
            </div>
        </div>

        <div class="typing-area" id="typingArea">
            <div class="target-text" id="targetText">読み込み中...</div>
            <input type="text" class="input-field" id="inputField" placeholder="ここにローマ字でタイピングしてください... (複数の入力方法に対応)" disabled>
        </div>

        <div class="controls">
            <button class="btn btn-primary" id="startBtn">ゲーム開始</button>
            <button class="btn btn-secondary" id="nextBtn" style="display: none;">次の問題</button>
            <button class="btn btn-secondary" id="restartBtn" style="display: none;">リスタート</button>
        </div>

        <div class="game-over" id="gameOver">
            <h2>ゲーム終了！</h2>
            <p>お疲れ様でした！</p>
            <div class="final-stats" id="finalStats">
                <!-- JavaScript で動的に追加 -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
